Project Requirement: 05-11-2025


1.Create User

    i. Requirement:
         
         User is login the app.

    ii. Decision:

        1.  Store the user information as a dedicated records with below user inputs.

             Authorization inputs: sso_id, sso_type(google signin) 

     iii.Table creation

        Table Name: user

        Fields:

           1. id (Primary Key, Auto-increment)

           2. sso_id

           3. sso_type

           4. role

           5. isBlocked

           6. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)
           
     iv. Relationships
           
           1. One-to-Many relationship with Recipe table (One User can create many Recipes)

    2.Create Cousine

        i. Requirement:

            Recipe has a Cousine attribute to categorize recipes based on their culinary origin (e.g., Italian, Mexican, Chinese). So that users can filter and explore recipes by their preferred Cousine type.

        ii. Decision: 

            1. Store cousine information as a dedicated master records with below user inputs.

                User inputs: name, description (optional) - as per standard fields, but optional because existing data may not have description.

            2. Implement CRUD operations for Cousine master records.

                - Create: Add a new Cousine record to the database.
                - Read: Retrieve existing Cousine records from the database.
                - Update: Modify an existing Cousine record in the database.
                - Delete: Remove a Cousine record from the database.

        iii. Master Table creation

            Database: app-queenbeekitchen (MySQL)

            ORM: Prisma ORM

            Table Name: m_cousine

            Fields:

                1. id (Primary Key, Auto-increment)

                2. name (Varchar(100), Unique, Not Null)

                3. description (Text, Optional)

                4. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)

        iv. Relationships

            1. One-to-Many relationship with Recipe table (One Cousine can have many Recipes)

        v. API Endpoints

            1. POST /api/cousines - Create a new Cousine

                HTTP Status: 201 Created

                Request Body:

                    {
                        "name": "Italian",
                        "description": "Traditional Italian Cuisine"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Italian",
                        "description": "Traditional Italian Cuisine",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional

            2. GET /api/cousines - Retrieve all Cousines

                HTTP Status: 200 OK

                Response:
    
                    [
                        {
                            "id": 1,
                            "name": "Italian",
                            "description": "Traditional Italian Cuisine",
                        },
                        {
                            "id": 2,
                            "name": "Mexican",
                            "description": "Spicy and Flavorful Mexican Dishes",
                        }
                    ]

            3. GET /api/cousines/{id} - Retrieve a specific Cousine by ID

                HTTP Status: 200 OK

                Response:
    
                    {
                        "id": 1,
                        "name": "Italian",
                        "description": "Traditional Italian Cuisine",
                    }

            4. PUT /api/cousines/{id} - Update a specific Cousine by ID

                HTTP Status: 200 OK

                Request Body:

                    {
                        "name": "Italian",
                        "description": "Traditional Italian Cuisine"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Italian",
                        "description": "Traditional Italian Cuisine",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional

            5. PATCH /api/cousines/{id} - Soft delete a specific Cousine by ID (set delFlag to True)

                HTTP Status: 204 No Content

                Request Body: 

                    {
                        "delFlag": true
                    }

                Validations:

                    - delFlag: Required, Boolean


    3. Create Food_type 

        i. Requirement:

            Recipe has a Food_type attribute to categorize recipes based on dietary preferences (e.g., Vegan, Vegetarian, Non-Vegetarian). So that users can filter and explore recipes by their preferred Food_type.

        ii. Decision:

            1. Store food_type information as a dedicated master records with below user inputs.

                User inputs: name, description (optional) - as per standard fields, but optional because existing data may not have description.

            2. Implement CRUD operations for Food_type master records.

                - Create: Add a new Food_type record to the database.
                - Read: Retrieve existing Food_type records from the database.
                - Update: Modify an existing Food_type record in the database.
                - Delete: Remove a Food_type record from the database.

        iii. Master Table creation

            Table Name: m_food_type

            Fields:

                1. id (Primary Key, Auto-increment)

                2. name (Varchar(100), Unique, Not Null)

                3. description (Text, Optional)

                4. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)

        
        iv. Relationships

            1. One-to-Many relationship with Recipe table (One Food_type can have many Recipes)

        v. API Endpoints

            1. POST /api/food_types - Create a new Food_type

                HTTP Status: 201 Created

                Request Body:

                    {
                        "name": "Vegan",
                        "description": "Plant-based recipes without any animal products"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Vegan",
                        "description": "Plant-based recipes without any animal products",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional

            2. GET /api/food_types - Retrieve all Food_types

                HTTP Status: 200 OK

                Response:
    
                    [
                        {
                            "id": 1,
                            "name": "Vegan",
                            "description": "Plant-based recipes without any animal products",
                        },
                        {
                            "id": 2,
                            "name": "Vegetarian",
                            "description": "Recipes without meat but may include dairy and eggs",
                        }   
                    ]

            3. GET /api/food_types/{id} - Retrieve a specific Food_type by ID        
                HTTP Status: 200 OK

                Response:
    
                    {
                        "id": 1,
                        "name": "Vegan",
                        "description": "Plant-based recipes without any animal products",
                    }

            4. PUT /api/food_types/{id} - Update a specific Food_type by ID          

                HTTP Status: 200 OK

                Request Body:

                    {
                        "name": "Vegan",
                        "description": "Plant-based recipes without any animal products"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Vegan",
                        "description": "Plant-based recipes without any animal products",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional
                
            5. PATCH /api/food_types/{id} - Soft delete a specific Food_type by ID (set delFlag to True)        

                HTTP Status: 204 No Content

                Request Body: 

                    {
                        "delFlag": true
                    }

                Validations:

                    - delFlag: Required, Boolean
                    

    4.Create Category

        i. Requirement:

            Recipe has a Category attribute to categorize recipes based on their type (e.g., Appetizer, Main Course, Dessert). So that users can filter and explore recipes by their preferred Category type.

        ii. Decision: 

            1. Store category information as a dedicated master records with below user inputs.

                User inputs: name, description (optional) - as per standard fields, but optional because existing data may not have description.

            2. Implement CRUD operations for Category master records.

                - Create: Add a new Category record to the database.
                - Read: Retrieve existing Category records from the database.
                - Update: Modify an existing Category record in the database.
                - Delete: Remove a Category record from the database.

        iii. Master Table creation

            Table Name: m_category

            Fields:

                1. id (Primary Key, Auto-increment)

                2. name (Varchar(100), Unique, Not Null)

                3. description (Text, Optional)

                4. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)

        iv. Relationships

            1. One-to-Many relationship with Recipe table (One Category can have many Recipes)

        v. API Endpoints

            1. POST /api/categories - Create a new Category

                HTTP Status: 201 Created

                Request Body:

                    {
                        "name": "Appetizer",
                        "description": "Start your meal with delicious appetizers"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Appetizer",
                        "description": "Start your meal with delicious appetizers",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional

            2. GET /api/categories - Retrieve all Categories

                HTTP Status: 200 OK

                Response:
    
                    [
                        {
                            "id": 1,
                            "name": "Appetizer",
                            "description": "Start your meal with delicious appetizers",
                        },
                        {
                            "id": 2,
                            "name": "Main Course",
                            "description": "Hearty and satisfying main dishes",
                        }   
                    ]

            3. GET /api/categories/{id} - Retrieve a specific Category by ID        
                HTTP Status: 200 OK

                Response:
    
                    {
                        "id": 1,
                        "name": "Appetizer",
                        "description": "Start your meal with delicious appetizers",
                    }

            4. PUT /api/categories/{id} - Update a specific Category by ID          

                HTTP Status: 200 OK

                Request Body:

                    {
                        "name": "Appetizer",
                        "description": "Start your meal with delicious appetizers"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "Appetizer",
                        "description": "Start your meal with delicious appetizers",
                    }

                Validations:

                    - name: Required, Unique

                    - description: Optional
                
            5. PATCH /api/categories/{id} - Soft delete a specific Category by ID (set delFlag to True)        

                HTTP Status: 204 No Content

                Request Body: 

                    {
                        "delFlag": true
                    }

                Validations:

                    - delFlag: Required, Boolean
                    

    5.Create Language
    
       i. Requirement:

            Recipe has a Language attribute to support multiple languages for recipe details (e.g., English, French, Spanish). So that users can view recipe information in their preferred language.

        ii. Decision:
            1. Store language information as a dedicated master records with below user inputs.

                User inputs: name, isoCode (eg: en, fr, es), description (optional) - as per standard fields, but optional because existing data may not have description.

            2. Implement CRUD operations for Language master records.

                - Create: Add a new Language record to the database.
                - Read: Retrieve existing Language records from the database.
                - Update: Modify an existing Language record in the database.
                - Delete: Remove a Language record from the database.

        iii. Master Table creation

            Table Name: m_language

            Fields:

                1. id (Primary Key, Auto-increment)

                2. name (Varchar(100), Unique, Not Null)

                3. isoCode (Varchar(10), Unique, Not Null)

                4. description (Text, Optional)

                5. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)

        iv. Relationships

            1. One-to-Many relationship with Recipe Details table (One Language can have many Recipe Details)

        
        v. API Endpoints    
                    
            1. POST /api/languages - Create a new Language

                HTTP Status: 201 Created

                Request Body:

                    {
                        "name": "English",
                        "isoCode": "en",
                        "description": "English Language"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "English",
                        "isoCode": "en",
                        "description": "English Language",
                    }

                Validations:

                    - name: Required, Unique

                    - isoCode: Required, Unique

                    - description: Optional

            2. GET /api/languages - Retrieve all Languages

                HTTP Status: 200 OK

                Response:
    
                    [
                        {
                            "id": 1,
                            "name": "English",
                            "isoCode": "en",
                            "description": "English Language",
                        },
                        {
                            "id": 2,
                            "name": "French",
                            "isoCode": "fr",
                            "description": "French Language",
                        }   
                    ]

            3. GET /api/languages/{id} - Retrieve a specific Language by ID        
                HTTP Status: 200 OK

                Response:
    
                    {
                        "id": 1,
                        "name": "English",
                        "isoCode": "en",
                        "description": "English Language",
                    }

            4. PUT /api/languages/{id} - Update a specific Language by ID          

                HTTP Status: 200 OK

                Request Body:

                    {
                        "name": "English",
                        "isoCode": "en",
                        "description": "English Language"
                    }

                Response:
    
                    {
                        "id": 1,
                        "name": "English",
                        "isoCode": "en",
                        "description": "English Language",
                    }

                Validations:

                    - name: Required, Unique

                    - isoCode: Required, Unique

                    - description: Optional
                
            5. PATCH /api/languages/{id} - Soft delete a specific Language by ID (set delFlag to True)        

                HTTP Status: 204 No Content

                Request Body: 

                    {
                        "delFlag": true
                    }

                Validations:

                    - delFlag: Required, Boolean

        Field: name, isoCode (eg: en, fr, es), description (optional)

        

    6.Create Recipe

        i. Requirement:

            Store recipe information with support for multiple languages, categories, and cuisines.

        ii. Decision:   

            1. Store recipe information in two related tables: Recipe and Recipe Details.

            2. Recipe Table will store general information about the recipe, while Recipe Details Table will store language-specific details.

        iii. Table creation 

         1. Recipe Table

            1.fields

                1. id (Primary Key, Auto-increment)

                2. cousineId (Foreign Key to Cousine table)

                3. categoryId (Foreign Key to Category table)

                4. uuid (Varchar(100), Unique, Not Null)

                5. foodtypeId (Foreign Key to Food_type table)

                6. regional_name (Varchar(255))

                7. imageUrl (Varchar(255), Optional)

                8. videoUrl (Varchar(255), Optional)

                9. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)

         2. Recipe Details Table    

            1.fields

                1. id (Primary Key, Auto-increment)

                2. recipeId (Foreign Key to Recipe table)

                3. languageId (Foreign Key to Language table)

                4. name (Varchar(255), Not Null)

                5. instructions (Text, Not Null)

                6. ingredients (Text, Not Null)

                7. notes (Text, Optional)

                8. created_at (Timestamp, Default: Current Timestamp), created_by (Foreign Key to Users table), updated_at (Timestamp, Default: Current Timestamp on Update), updated_by (Foreign Key to Users table), delFlag (Boolean, Default: False)
            
        iv. Relationships

            1. Many-to-One relationship between Recipe Details and Recipe (Many Recipe Details belong to One Recipe)

            2. Many-to-One relationship between Recipe Details and Language (Many Recipe Details belong to One Language)


        v. API endpoints 

                    1. POST /api/recipes - Create a new Recipe with details 

                        HTTP Status: 201 Created

                        Request Body:

                            {
                                "cousineId": 1,
                                "categoryId": 2,
                                "uuid": "unique-recipe-uuid",
                                "title": "Spaghetti Carbonara",
                                "ingredientsId": 5,
                                "imageUrl": "http://example.com/image.jpg",
                                "videoUrl": "http://example.com/video.mp4",
                                "details": [
                                    {
                                        "languageId": 1,
                                        "name": "Spaghetti Carbonara",
                                        "instructions": "Boil pasta. Cook pancetta. Mix with eggs and cheese.",
                                        "ingredients": "Spaghetti, Eggs, Pancetta, Parmesan Cheese"
                                    },
                                    {
                                        "languageId": 2,
                                        "name": "Spaghetti à la Carbonara",
                                        "instructions": "Faire bouillir les pâtes. Cuire la pancetta. Mélanger avec des œufs et du fromage.",
                                        "ingredients": "Spaghetti, Œufs, Pancetta, Fromage Parmesan"
                                    }
                                ]
                            }

                        Response:
    
                            {
                                "id": 1,
                                "cousineId": 1,
                                "categoryId": 2,
                                "uuid": "unique-recipe-uuid",
                                "title": "Spaghetti Carbonara",
                                "ingredientsId": 5,
                                "imageUrl": "http://example.com/image.jpg",
                                "videoUrl": "http://example.com/video.mp4",
                                "details": [
                                    {
                                        "id": 1,
                                        "languageId": 1,
                                        "name": "Spaghetti Carbonara",
                                        "instructions": "Boil pasta. Cook pancetta. Mix with eggs and cheese.",
                                        "ingredients": "Spaghetti, Eggs, Pancetta, Parmesan Cheese"
                                    },
                                    {
                                        "id": 2,
                                        "languageId": 2,
                                        "name": "Spaghetti à la Carbonara",
                                        "instructions": "Faire bouillir les pâtes. Cuire la pancetta. Mélanger avec des œufs et du fromage.",
                                        "ingredients": "Spaghetti, Œufs, Pancetta, Fromage Parmesan"
                                    }
                                ]
                            }

                        Validations:

                            - cousineId: Required, Exists in Cousine table

                            - categoryId: Required, Exists in Category table

                            - uuid: Required, Unique

                    2.  GET /api/recipes/{id} - Retrieve a specific Recipe by ID with details

                        HTTP Status: 200 OK

                        Response:
    
                            {
                                "id": 1,
                                "cousineId": 1,
                                "categoryId": 2,
                                "uuid": "unique-recipe-uuid",
                                "title": "Spaghetti Carbonara",
                                "ingredientsId": 5,
                                "imageUrl": "http://example.com/image.jpg",
                                "videoUrl": "http://example.com/video.mp4",
                                "details": [
                                    {
                                        "id": 1,
                                        "languageId": 1,
                                        "name": "Spaghetti Carbonara",
                                        "instructions": "Boil pasta. Cook pancetta. Mix with eggs and cheese.",
                                        "ingredients": "Spaghetti, Eggs, Pancetta, Parmesan Cheese"
                                    },
                                    {
                                        "id": 2,
                                        "languageId": 2,
                                        "name": "Spaghetti à la Carbonara",
                                        "instructions": "Faire bouillir les pâtes. Cuire la pancetta. Mélanger avec des œufs et du fromage.",
                                        "ingredients": "Spaghetti, Œufs, Pancetta, Fromage Parmesan"
                                    }
                                ]
                            }
                    
                        3. PUT /api/recipes/{id} - Update a specific Recipe by ID with details      

                        HTTP Status: 200 OK     

                        Request Body:

                            {
                                "cousineId": 1,
                                "categoryId": 2,
                                "uuid": "unique-recipe-uuid",
                                "title": "Spaghetti Carbonara",
                                "ingredientsId": 5,
                                "imageUrl": "http://example.com/image.jpg",
                                "videoUrl": "http://example.com/video.mp4",
                                "details": [
                                    {
                                        "languageId": 1,
                                        "name": "Spaghetti Carbonara",
                                        "instructions": "Boil pasta. Cook pancetta. Mix with eggs and cheese.",
                                        "ingredients": "Spaghetti, Eggs, Pancetta, Parmesan Cheese"
                                    },
                                    {
                                        "languageId": 2,
                                        "name": "Spaghetti à la Carbonara",
                                        "instructions": "Faire bouillir les pâtes. Cuire la pancetta. Mélanger avec des œufs et du fromage.",
                                        "ingredients": "Spaghetti, Œufs, Pancetta, Fromage Parmesan"
                                    }
                                ]
                            }

                        Response:
    
                            {
                                "id": 1,
                                "cousineId": 1,
                                "categoryId": 2,
                                "uuid": "unique-recipe-uuid",
                                "title": "Spaghetti Carbonara",
                                "ingredientsId": 5,
                                "imageUrl": "http://example.com/image.jpg",
                                "videoUrl": "http://example.com/video.mp4",
                                "details": [
                                    {
                                        "id": 1,
                                        "languageId": 1,
                                        "name": "Spaghetti Carbonara",
                                        "instructions": "Boil pasta. Cook pancetta. Mix with eggs and cheese.",
                                        "ingredients": "Spaghetti, Eggs, Pancetta, Parmesan Cheese"
                                    },
                                    {
                                        "id": 2,
                                        "languageId": 2,
                                        "name": "Spaghetti à la Carbonara",
                                        "instructions": "Faire bouillir les pâtes. Cuire la pancetta. Mélanger avec des œufs et du fromage.",
                                        "ingredients": "Spaghetti, Œufs, Pancetta, Fromage Parmesan"
                                    }
                                ]
                            }

                        Validations:    

                            - cousineId: Required, Exists in Cousine table

                            - categoryId: Required, Exists in Category table

                            - uuid: Required, Unique

                        4. PATCH /api/recipes/{id} - Delete a specific Recipe by ID    

                            HTTP Status: 204 No Content

                             Request Body: 

                                      {
                                        "delFlag": true
                                    }

                        Validations:

                              - delFlag: Required, Boolean
    
        Table Name: recipe

        Fields:

            id, cousineId (FK), categoryId (FK), uuid, title (notes: regional_name), ingredientsId, imageUrl, videoUrl

    
        Table: Recipe details

            Fields: id, recipeId (FK), languageId (FK), name, instructions, ingredients